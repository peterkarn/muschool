window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".body"),t=document.querySelector(".main"),o=document.querySelector(".header");new Swiper(".swiper-container-h",{spaceBetween:50,loop:!0,touchRatio:.5,navigation:{nextEl:".shops__horizontal-next",prevEl:".shops__horizontal-prev"}}),new Swiper(".swiper-container-v",{loop:!0,direction:"vertical",touchRatio:0,breakpoints:{320:{},1024:{slidesPerView:1,centeredSlides:!0}},navigation:{nextEl:".shops__next",prevEl:".shops__prev"}});var s=new Swiper(".formats__slider-top_mobile",{spaceBetween:0,centeredSlides:!0,slidesPerView:"auto",touchRatio:1,slideToClickedSlide:!0,loop:!1,loopedSlides:1,breakpoints:{320:{slidesPerView:1.5},768:{slidesPerView:2.8,spaceBetween:20}}}),i=new Swiper(".formats__slider-top_desktop",{centeredSlides:!0,slidesPerView:"auto",touchRatio:1,loop:!1,slidesPerView:3,loopedSlides:0,centeredSlides:!1,spaceBetween:150}),r=new Swiper(".formats__slider-bottom",{spaceBetween:10,loop:!1,loopedSlides:1,slidesPerView:1,touchRatio:0,thumbs:{swiper:i}});s.controller.control=r,r.controller.control=s;document.querySelector(".accordion").offsetHeight;document.querySelectorAll(".accordion-item__trigger").forEach(e=>e.addEventListener("click",()=>{const t=e.parentNode;t.classList.contains("accordion-item_active")?t.classList.remove("accordion-item_active"):(document.querySelectorAll(".accordion-item").forEach(e=>e.classList.remove("accordion-item_active")),t.classList.add("accordion-item_active"))})),document.addEventListener("click",(function(s){var i=(s=s||window.event).target||s.srcElement;if(i.hasAttribute("data-toggle")&&"modal"==i.getAttribute("data-toggle")&&i.hasAttribute("data-target")){var r=i.getAttribute("data-target");document.getElementById(r).classList.add("open"),e.classList.add("locked"),o.classList.add("blur"),t.classList.add("blur"),n(".modal-form",{tel:{required:!0}},".thanks-popup","send goal"),s.preventDefault()}(i.hasAttribute("data-dismiss")&&"modal"==i.getAttribute("data-dismiss")||i.classList.contains("modal"))&&(s.preventDefault(),document.querySelector('[class="modal open"]').classList.remove("open"),e.classList.remove("locked"),o.classList.remove("blur"),t.classList.remove("blur"),c.setAttribute("value","Пользователь не указал значение"))}),!1);const a=document.querySelectorAll('input[type="tel"]');new Inputmask("+7 (999) 999-99-99").mask(a);let n=function(e,t,o,s){new window.JustValidate(e,{rules:t,messages:{name:{required:"Обязательное поле"},tel:{required:"Обязательное поле"}},submitHandler:function(e){let t=new FormData(e),o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&200===o.status&&alert("Ваши данные успешно отправлены")},o.open("POST","mail.php",!0),o.send(t),e.reset()}})};n(".form",{tel:{required:!0}},".thanks-popup","send goal");const l=document.querySelectorAll(".content__footer-btn"),c=document.querySelector(".franchise");l.forEach(e=>{e.addEventListener("click",(function(){c.setAttribute("value",this.getAttribute("value"))}))})});