const body=document.querySelector(".body"),main=document.querySelector(".main"),header=document.querySelector(".header"),swiperH=new Swiper(".swiper-container-h",{spaceBetween:50,loop:!0,touchRatio:.5,navigation:{nextEl:".shops__horizontal-next",prevEl:".shops__horizontal-prev"}}),swiperV=new Swiper(".swiper-container-v",{loop:!0,direction:"vertical",touchRatio:0,spaceBetween:100,slidesPerView:1,enteredSlides:!0,navigation:{nextEl:".shops__next",prevEl:".shops__prev"}});var swiperFormatsTopMobile=new Swiper(".formats__slider-top_mobile",{spaceBetween:0,centeredSlides:!0,slidesPerView:"auto",touchRatio:1,slideToClickedSlide:!0,loop:!1,loopedSlides:1,breakpoints:{320:{slidesPerView:1.5},768:{slidesPerView:2.8,spaceBetween:20}}}),swiperFormatsTopDesktop=new Swiper(".formats__slider-top_desktop",{centeredSlides:!0,slidesPerView:"auto",touchRatio:1,loop:!1,slidesPerView:3,loopedSlides:0,centeredSlides:!1,spaceBetween:150}),swiperFormatsBottom=new Swiper(".formats__slider-bottom",{spaceBetween:10,loop:!1,loopedSlides:1,slidesPerView:1,touchRatio:0,thumbs:{swiper:swiperFormatsTopDesktop}});swiperFormatsTopMobile.controller.control=swiperFormatsBottom,swiperFormatsBottom.controller.control=swiperFormatsTopMobile;let accordionHeight=document.querySelector(".accordion").offsetHeight;function adaptiveHeight(){document.querySelector(".footer").style.paddingTop="100px"}document.querySelectorAll(".accordion-item__trigger").forEach(e=>e.addEventListener("click",()=>{const t=e.parentNode;t.classList.contains("accordion-item_active")?t.classList.remove("accordion-item_active"):(document.querySelectorAll(".accordion-item").forEach(e=>e.classList.remove("accordion-item_active")),t.classList.add("accordion-item_active"))})),document.addEventListener("click",(function(e){var t=(e=e||window.event).target||e.srcElement;if(t.hasAttribute("data-toggle")&&"modal"==t.getAttribute("data-toggle")&&t.hasAttribute("data-target")){var o=t.getAttribute("data-target");document.getElementById(o).classList.add("open"),body.classList.add("locked"),header.classList.add("blur"),main.classList.add("blur"),validateForms(".modal-form",{tel:{required:!0}},".thanks-popup","send goal"),e.preventDefault()}(t.hasAttribute("data-dismiss")&&"modal"==t.getAttribute("data-dismiss")||t.classList.contains("modal"))&&(e.preventDefault(),document.querySelector('[class="modal open"]').classList.remove("open"),body.classList.remove("locked"),header.classList.remove("blur"),main.classList.remove("blur"),franchiseTypeFormInput.setAttribute("value","Пользователь не указал значение"))}),!1);const phoneInput=document.querySelectorAll('input[type="tel"]'),im=new Inputmask("+7 (999) 999-99-99");im.mask(phoneInput);let validateForms=function(e,t,o,r){new window.JustValidate(e,{rules:t,messages:{name:{required:"Обязательное поле"},tel:{required:"Обязательное поле"}},submitHandler:function(e){let t=new FormData(e),o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&200===o.status&&alert("Ваши данные успешно отправлены")},o.open("POST","mail.php",!0),o.send(t),e.reset()}})};validateForms(".form",{tel:{required:!0}},".thanks-popup","send goal");const formButtonInfo=document.querySelectorAll(".content__footer-btn"),franchiseTypeFormInput=document.querySelector(".franchise");formButtonInfo.forEach(e=>{e.addEventListener("click",(function(){franchiseTypeFormInput.setAttribute("value",this.getAttribute("value"))}))});